{% load i18n %}
{% verbatim %}

  <div class="row resourcebase-snippet" style="width: 100%;">
    <div ng-if="results.length == 0" ng-cloak>
      {% endverbatim %}
      <div><h3>{% trans "No content created yet." %}</h3></div>
      {% verbatim %}
    </div>
    <article ng-repeat="item in results" resource_id="{{ item.id }}" ng-cloak class="ng-cloak">

      <div class="data-list">
        <div class="data-list-img">
            <a href="{{ item.detail_url }}">
                <img src="{{ item.thumbnail_url }}" />
            </a>
        </div>

        <div class="data-list-detail">
            <div class="d-flex list-det">
              <span class="item-category">{{ item.category__gn_description }}</span><br>
              <span class="item-category" ng-if="item.group">
                <!-- <a href="{{ item.site_url }}groups/group/{{ item.group }}/activity/"> -->
                <svg width="16" height="14" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.29 4.29L14 8.58L12.7 7.29L11.29 8.71L13.99 11.41L19.71 5.71L18.29 4.29ZM2 4C1.98768 4.52865 2.08273 5.05431 2.27939 5.54518C2.47605 6.03605 2.77024 6.48193 3.14415 6.85585C3.51807 7.22977 3.96395 7.52395 4.45482 7.72061C4.94569 7.91727 5.47135 8.01232 6 8C6.52865 8.01232 7.05431 7.91727 7.54518 7.72061C8.03605 7.52395 8.48193 7.22977 8.85585 6.85585C9.22977 6.48193 9.52395 6.03605 9.72061 5.54518C9.91727 5.05431 10.0123 4.52865 10 4C10.0123 3.47135 9.91727 2.94569 9.72061 2.45482C9.52395 1.96395 9.22977 1.51807 8.85585 1.14415C8.48193 0.770235 8.03605 0.47605 7.54518 0.279391C7.05431 0.0827316 6.52865 -0.0123152 6 9.28994e-08C5.47135 -0.0123152 4.94569 0.0827316 4.45482 0.279391C3.96395 0.47605 3.51807 0.770235 3.14415 1.14415C2.77024 1.51807 2.47605 1.96395 2.27939 2.45482C2.08273 2.94569 1.98768 3.47135 2 4ZM8 4C8.01286 4.26605 7.96993 4.53185 7.87398 4.78032C7.77802 5.0288 7.63115 5.25446 7.4428 5.4428C7.25446 5.63115 7.0288 5.77802 6.78032 5.87398C6.53185 5.96993 6.26605 6.01286 6 6C5.73395 6.01286 5.46815 5.96993 5.21968 5.87398C4.9712 5.77802 4.74554 5.63115 4.5572 5.4428C4.36885 5.25446 4.22198 5.0288 4.12602 4.78032C4.03007 4.53185 3.98714 4.26605 4 4C3.98714 3.73395 4.03007 3.46815 4.12602 3.21968C4.22198 2.9712 4.36885 2.74554 4.5572 2.5572C4.74554 2.36885 4.9712 2.22198 5.21968 2.12602C5.46815 2.03007 5.73395 1.98714 6 2C6.26605 1.98714 6.53185 2.03007 6.78032 2.12602C7.0288 2.22198 7.25446 2.36885 7.4428 2.5572C7.63115 2.74554 7.77802 2.9712 7.87398 3.21968C7.96993 3.46815 8.01286 3.73395 8 4V4ZM2 14C2 13.2044 2.31607 12.4413 2.87868 11.8787C3.44129 11.3161 4.20435 11 5 11H7C7.79565 11 8.55871 11.3161 9.12132 11.8787C9.68393 12.4413 10 13.2044 10 14V15H12V14C12 13.3434 11.8707 12.6932 11.6194 12.0866C11.3681 11.48 10.9998 10.9288 10.5355 10.4645C10.0712 10.0002 9.52004 9.63188 8.91342 9.3806C8.30679 9.12933 7.65661 9 7 9H5C3.67392 9 2.40215 9.52678 1.46447 10.4645C0.526784 11.4021 0 12.6739 0 14V15H2V14Z" fill="green"/>
                    </svg>
                <!-- <i class="fa fa-group" aria-hidden="true" style="margin-right: 8px;"></i> -->
                {{ item.group_name }}
              <!-- </a> -->
              <br></span>
            </div>
              <span class="item-category" ng-if="item.has_time">
                {% endverbatim %}
                <i class="fa fa-clock-o" aria-hidden="true" style="margin-right: 8px;"></i>{% trans "Temporal Serie" %}<br>
                {% verbatim %}
              </span>
              <h4>
                  <i ng-if="item.store_type == 'remoteStore'" title="Remote Service" class="fa fa-external-link fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <i ng-if="item.store_type == 'dataStore'" title="Vector Data" class="fa fa-pencil-square-o fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <i ng-if="item.store_type == 'coverageStore'" title="Raster Data" class="fa fa-picture-o fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <i ng-if="item.store_type == 'dataset'" title="File/Dataset" class="fa fa-newspaper-o fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <i ng-if="item.store_type == 'map'" title="Map" class="fa fa-map-o fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <i ng-if="item.store_type == 'geoapp'" title="App" class="fa fa-gears fa-1" style="vertical-align:  middle;padding-right: 10px;"></i>
                  <a href="{{ item.detail_url }}">{{ item.title }}</a>
              </h4>
              <div class="d-flex">
                <div class="star-rating clearfix">
                  <!-- <a href="{{ item.detail_url }}#rate"> -->
                    <label for="star-5" title="5 stars">
                        <span class="active" >
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M2.86612 14.85C2.78812 15.294 3.22612 15.641 3.61212 15.443L8.00212 13.187L12.3911 15.443C12.7771 15.641 13.2151 15.294 13.1371 14.851L12.3071 10.121L15.8291 6.76501C16.1591 6.45101 15.9891 5.87701 15.5471 5.81501L10.6491 5.11901L8.46512 0.792015C8.42351 0.704303 8.35787 0.630198 8.27583 0.578307C8.19378 0.526416 8.0987 0.498871 8.00162 0.498871C7.90454 0.498871 7.80945 0.526416 7.72741 0.578307C7.64536 0.630198 7.57972 0.704303 7.53812 0.792015L5.35412 5.12001L0.456118 5.81601C0.0151183 5.87801 -0.155882 6.45201 0.173118 6.76601L3.69612 10.122L2.86612 14.852V14.85ZM7.77112 12.083L4.08512 13.977L4.77912 10.02C4.79538 9.92893 4.78902 9.83524 4.76059 9.74719C4.73217 9.65913 4.68256 9.57941 4.61612 9.51501L1.71012 6.74501L5.76212 6.16901C5.84602 6.15634 5.92561 6.12352 5.99405 6.07337C6.0625 6.02321 6.11776 5.95721 6.15512 5.88101L8.00012 2.22301L9.84712 5.88101C9.88447 5.95721 9.93974 6.02321 10.0082 6.07337C10.0766 6.12352 10.1562 6.15634 10.2401 6.16901L14.2921 6.74401L11.3861 9.51401C11.3195 9.57851 11.2698 9.6584 11.2414 9.74665C11.213 9.83489 11.2067 9.92877 11.2231 10.02L11.9171 13.977L8.23112 12.083C8.15984 12.0463 8.08081 12.0271 8.00062 12.0271C7.92043 12.0271 7.8414 12.0463 7.77012 12.083H7.77112Z" fill="#bbb"/>
                              </svg>
                        </span>
                    </label>
                    {{ item.rating }}
                  <!-- </a> -->
                </div>
                <div class="list-own float-end text-end">
                  <span>
                    <!-- <a href="{{ item.site_url }}people/profile/{{ item.owner__username }}"> -->
                    <span>
                        <svg width="11" height="13" viewBox="0 0 33 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M29.7838 26.9307C29.0062 25.0782 27.8777 23.3956 26.4612 21.9765C25.0491 20.5533 23.3762 19.4186 21.5351 18.6351C21.5186 18.6268 21.5021 18.6226 21.4856 18.6143C24.0538 16.7487 25.7233 13.7099 25.7233 10.2814C25.7233 4.60176 21.1476 0 15.5 0C9.85243 0 5.27666 4.60176 5.27666 10.2814C5.27666 13.7099 6.9462 16.7487 9.5144 18.6185C9.49791 18.6268 9.48142 18.6309 9.46493 18.6392C7.61814 19.4227 5.96097 20.5462 4.53877 21.9807C3.12362 23.4008 1.99532 25.0832 1.21619 26.9348C0.450763 28.7475 0.0379539 30.691 0.000103083 32.6601C-0.000997184 32.7043 0.0067199 32.7483 0.0227998 32.7895C0.0388798 32.8307 0.0629971 32.8683 0.0937307 32.8999C0.124464 32.9316 0.161192 32.9568 0.201751 32.974C0.242309 32.9912 0.285878 33 0.329888 33H2.80328C2.98466 33 3.12894 32.8549 3.13306 32.6766C3.21551 29.4761 4.49342 26.4788 6.75245 24.2069C9.0898 21.8563 12.1939 20.5628 15.5 20.5628C18.8061 20.5628 21.9102 21.8563 24.2475 24.2069C26.5066 26.4788 27.7845 29.4761 27.8669 32.6766C27.8711 32.859 28.0153 33 28.1967 33H30.6701C30.7141 33 30.7577 32.9912 30.7983 32.974C30.8388 32.9568 30.8755 32.9316 30.9063 32.8999C30.937 32.8683 30.9611 32.8307 30.9772 32.7895C30.9933 32.7483 31.001 32.7043 30.9999 32.6601C30.9587 30.6784 30.5506 28.7506 29.7838 26.9307V26.9307ZM15.5 17.4121C13.6079 17.4121 11.827 16.67 10.4873 15.3226C9.14752 13.9753 8.40962 12.1843 8.40962 10.2814C8.40962 8.37852 9.14752 6.58756 10.4873 5.2402C11.827 3.89284 13.6079 3.15075 15.5 3.15075C17.3921 3.15075 19.173 3.89284 20.5127 5.2402C21.8525 6.58756 22.5904 8.37852 22.5904 10.2814C22.5904 12.1843 21.8525 13.9753 20.5127 15.3226C19.173 16.67 17.3921 17.4121 15.5 17.4121Z" fill="#666"></path>
                            </svg><ins>{{ item.owner_name }}</ins>
                    </span>
                    <!-- <i class="fa fa-user"></i><ins>{{ item.owner_name }}</ins> -->
                  <!-- </a> -->
                </span>
                  <span>
                    <!-- <a href="{{ item.detail_url }}#info"> -->
                    <svg width="14" height="13" viewBox="0 0 32 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M29.4701 1.84002C28.509 0.890039 27.2455 0.306821 25.8991 0.191726C24.5526 0.0766314 23.2085 0.436936 22.1001 1.21002C25.6629 2.69339 28.5733 5.40863 30.3001 8.86002C30.9666 7.7656 31.2471 6.47933 31.0966 5.20678C30.9461 3.93423 30.3735 2.74883 29.4701 1.84002V1.84002Z" fill="#666"></path>
                    <path d="M9.4202 1.43001C8.31644 0.553389 6.92997 0.111108 5.52247 0.186641C4.11497 0.262174 2.7838 0.850297 1.7802 1.84001C0.784876 2.84192 0.195388 4.17663 0.125231 5.58715C0.0550746 6.99767 0.509209 8.38428 1.4002 9.48001C3.00473 5.91004 5.85625 3.04786 9.4202 1.43001V1.43001Z" fill="#666"></path>
                    <path d="M14.4 2.09C11.7891 2.395 9.31686 3.42889 7.26613 5.07334C5.2154 6.71779 3.66906 8.90637 2.80409 11.3886C1.93911 13.8709 1.79044 16.5465 2.37509 19.1093C2.95974 21.6721 4.25409 24.0185 6.11001 25.88L3.56001 28.43C3.46743 28.5246 3.39437 28.6364 3.34502 28.7592C3.29567 28.882 3.27099 29.0133 3.27238 29.1456C3.27377 29.2779 3.30122 29.4087 3.35314 29.5304C3.40506 29.6521 3.48046 29.7624 3.57501 29.855C3.66956 29.9476 3.78142 30.0206 3.9042 30.07C4.02699 30.1193 4.15829 30.144 4.29061 30.1426C4.42294 30.1412 4.55369 30.1138 4.67541 30.0619C4.79713 30.0099 4.90743 29.9346 5.00001 29.84L7.66001 27.18C10.0925 29.0208 13.0631 30.0102 16.1135 29.9958C19.164 29.9813 22.125 28.9637 24.54 27.1L27.28 29.84C27.4713 30.0038 27.7174 30.0894 27.9691 30.0797C28.2207 30.07 28.4595 29.9657 28.6376 29.7876C28.8157 29.6095 28.92 29.3707 28.9297 29.1191C28.9394 28.8674 28.8538 28.6213 28.69 28.43L26 25.78C28.0186 23.7122 29.3479 21.0704 29.8055 18.2171C30.2631 15.3639 29.8265 12.4389 28.5557 9.84357C27.2849 7.24826 25.2421 5.10978 22.7076 3.72157C20.1732 2.33336 17.2712 1.76344 14.4 2.09V2.09ZM17.58 27.9C15.0946 28.2255 12.5696 27.7646 10.3596 26.5818C8.14951 25.3991 6.36529 23.554 5.25738 21.3055C4.14948 19.057 3.7735 16.518 4.18223 14.0449C4.59097 11.5718 5.76389 9.2888 7.53635 7.51634C9.30881 5.74388 11.5918 4.57096 14.0649 4.16223C16.538 3.7535 19.077 4.12947 21.3255 5.23738C23.574 6.34529 25.4191 8.1295 26.6019 10.3396C27.7846 12.5496 28.2455 15.0746 27.92 17.56C27.5766 20.182 26.3767 22.6171 24.5069 24.4869C22.6371 26.3567 20.202 27.5566 17.58 27.9Z" fill="#666"></path>
                    <path d="M22.9201 18.34L16.8601 15.34V7.49998C16.8601 7.26128 16.7652 7.03236 16.5965 6.86358C16.4277 6.6948 16.1988 6.59998 15.9601 6.59998C15.7214 6.59998 15.4924 6.6948 15.3237 6.86358C15.1549 7.03236 15.0601 7.26128 15.0601 7.49998V16.5L22.1201 20C22.3349 20.1047 22.5825 20.1199 22.8085 20.042C23.0345 19.9642 23.2203 19.7998 23.3251 19.585C23.4298 19.3701 23.445 19.1225 23.3671 18.8965C23.2893 18.6705 23.1249 18.4847 22.9101 18.38L22.9201 18.34Z" fill="#666"></path>
                    </svg><ins>{{ item.date|date:'d MMM y' }}</ins>
                    <!-- <i class="fa fa-calendar-o"></i><ins>{{ item.date|date:'d MMM y' }}</ins> -->
                  <!-- </a> -->
                </span>

                </div>
              </div>
              {% endverbatim %}

              <em ng-if="item.store_type == 'remoteStore'">
                <span ng-if="item.online == true"><i class="fa fa-power-off text-success"></i> {% trans "Service is" %} {% trans "online" %}</span>
                <span ng-if="item.online == false"><i class="fa fa-power-off text-danger"></i> {% trans "Service is" %} {% trans "offline" %}</span>
              </em>
              <div class="alert alert-danger" ng-if="item.dirty_state == true">{% trans "SECURITY NOT YET SYNCHRONIZED" %}
                  {% verbatim %}<a href="{{ item.detail_url }}" class="btn btn-primary btn-block" data-dismiss="modal" ng-click="securityRefreshButton($event)">{% endverbatim %}{% trans "Sync permissions immediately" %}</a>
              </div>
              <div class="alert alert-warning" ng-if="item.dirty_state == false && item.is_approved == false">{% trans "PENDING APPROVAL" %}</div>
              <div class="alert alert-danger" ng-if="item.dirty_state == false && item.is_approved == true && item.is_published == false">{% trans "UNPUBLISHED" %}</div>

              {% verbatim %}
              <div class="abstract" ng-bind-html="item.abstract | limitTo: 300"></div>
              <p class="abstract">{{ item.abstract.length  > 300 ? '...' : ''}}</p>

              <div class="list-own list-own-share">
                <span>
                  <!-- <a href="{{ item.detail_url }}"> -->
                  <svg width="20" height="16" viewBox="0 0 1200 720" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M779.843 359.925C779.843 455.256 699.179 532.537 599.674 532.537C500.17 532.537 419.506 455.256 419.506 359.925C419.506 264.593 500.17 187.313 599.674 187.313C699.179 187.312 779.843 264.594 779.843 359.925ZM600 0.520996C496.975 0.977996 390.186 26.059 289.096 74.078C214.038 111.2 140.89 163.574 77.394 228.219C46.208 261.218 6.431 309 0 359.981C0.76 404.142 48.13 458.65 77.394 491.744C136.937 553.85 208.18 604.762 289.096 645.923C383.367 691.674 487.712 718.015 600 719.48C703.123 719.016 809.888 693.646 910.866 645.923C985.924 608.801 1059.11 556.389 1122.61 491.744C1153.79 458.745 1193.57 410.962 1200 359.981C1199.24 315.82 1151.87 261.31 1122.61 228.217C1063.06 166.111 991.782 115.238 910.866 74.076C816.644 28.36 712.042 2.2 600 0.520996ZM599.924 89.769C756.043 89.769 882.599 210.763 882.599 360.02C882.599 509.276 756.043 630.27 599.924 630.27C443.805 630.27 317.249 509.275 317.249 360.02C317.249 210.763 443.805 89.769 599.924 89.769Z" fill="#777"/>
                  </svg><ins>{{ item.popular_count }}</ins>
                  <!-- <i class="fa fa-eye"></i><ins>{{ item.popular_count }}</ins> -->
                <!-- </a> -->
              </span>
                <span>
                  <!-- <a href="{{ item.detail_url }}#share"> -->
                  <svg width="20" height="17" viewBox="0 0 479 480" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M52.1459 480H-7.66037e-05V219.333C-0.0478919 201.526 4.07014 183.955 12.0249 168.024C22.8253 144.19 40.2592 123.97 62.2437 109.78C84.2281 95.589 109.833 88.0279 136 88H272.557V0H314.918L478.627 163.71L314.337 328H272.557V240H183.745C165.168 240.045 147.112 246.147 132.316 257.379C117.519 268.612 106.789 284.363 101.752 302.244L52.1459 480ZM136 120C115.943 120.021 96.3184 125.83 79.481 136.729C62.6437 147.628 49.3089 163.153 41.0769 181.443L40.7849 182.057C34.9716 193.621 31.9621 206.39 31.9999 219.333V433.143L70.9299 293.643C77.8599 269.04 92.6237 247.367 112.982 231.912C133.341 216.457 158.184 208.062 183.745 208H304.557V292.525L433.373 163.71L304.557 34.894V120H136Z" fill="#777"/>
                      </svg><ins>{{ item.share_count }}</ins>
                  <!-- <i class="fa fa-share"></i><ins>{{ item.share_count }}</ins> -->
                <!-- </a> -->
              </span>
                {% endverbatim %}
                  {% if user.is_authenticated and not READ_ONLY_MODE %}
                    {% verbatim %}
                    <span><a ng-if="item.detail_url.indexOf('/layers/') > -1" href="{% endverbatim %}{% url 'new_map' %}?layer={% verbatim %}{{ item.detail_url.substring(8) }}">
                      {% endverbatim %}
                      <i class="fa fa-map-marker"></i>{% trans "Create a Map" %}</a>
                    </span>
                  {% endif %}
                {% verbatim %}
                <span><a ng-if="item.detail_url.indexOf('/maps/') > -1" href="{{ item.site_url }}maps/{{item.id}}/view">
                  {% endverbatim %}
                  <i class="fa fa-map-marker"></i>{% trans "View Map" %}</a>
                  {% verbatim %}
                </span>

              </div>

              {% if facet_type == 'layers' %}
            <button type="submit"
              class=""
              ng-if="cart"
              ng-click="cart.toggleItem(item)"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{% trans 'Select' %}"><i ng-class="cart.getFaClass(item.id)" class="fa fa-lg">
            +</button>
            {% endif %}
        </div>
      </div>
    </article>
  </div>

{% endverbatim %}
